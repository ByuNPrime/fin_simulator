# 《金融精英模拟器》需求文档
**版本：** 1.0  
**日期：** 2026年1月7日  
**作者：** 金融游戏开发团队  
**AI辅助开发工具：** Claude + GLM-4.7 + Vibe Coding

## 一、游戏概述

### 1.1 核心理念
《金融精英模拟器》是一款模拟金融职场生涯的数值策略游戏，玩家从初级金融从业者起步，通过平衡多维数值指标，在高压金融环境中求生存、谋发展，最终实现职业巅峰或财务自由。游戏旨在揭示金融行业潜规则，让玩家在虚拟环境中体验行业生态，同时完成对金融职场文化的"祛魅"过程。

### 1.2 游戏定位
- **类型**：数值策略+职场模拟
- **平台**：Web（响应式设计，适配PC与移动端）
- **核心价值**：娱乐性+行业反思+金融知识普及
- **目标人群**：金融从业者、对金融行业感兴趣的年轻人、模拟经营游戏玩家

### 1.3 设计哲学
"把悲伤留给玩家，把快乐留给自己"——通过游戏机制让玩家看清金融职场规则，不被这些规则在精神上绑架，从而获得心理上的自由。

## 二、核心数值系统

### 2.1 七大核心指标
| 指标 | 范围 | 初始值 | 消耗规则 | 恢复方式 | 影响因素 |
|------|------|--------|----------|----------|----------|
| **精力储备** | 0-100 | 90 | 高强度工作(-10)、熬夜复盘(-5)、危机处理(-15) | 充分休息(+10)、度假(+20)、健身(+5) | 年龄增长(-1/年)、职级提升(-2/级) |
| **职业声誉** | 0-100 | 70 | 违规操作(-10)、项目失败(-15)、卷入丑闻(-25) | 成功项目(+5)、行业奖项(+10)、公益行为(+5) | 媒体曝光(±15)、监管审查结果(±10) |
| **高层关系** | 0-100 | 30 | 忽视领导需求(-5)、竞争失败(-10) | 私人聚会(+10)、送礼(+5-15)、完成特殊任务(+15) | 职级差距(-2/级)、派系归属(±10) |
| **业内人脉** | 0-100 | 50 | 长期不社交(-3/季度)、背刺同行(-20) | 行业会议(+5)、推荐人才(+10)、合作成功(+15) | 专业社区活跃度(+1/活动) |
| **专业能力** | 0-100 | 40 | 知识更新滞后(-2/年) | 专业培训(+5)、实战经验(+3/项目)、证书获取(+10) | 职级要求(晋升前需达指定值) |
| **业绩表现** | 0-200 | 0 | 季度结算时清零 | 项目完成(+50-150)、市场操作(+10-100) | 团队规模(×1.5)、市场环境(×0.5-1.5) |
| **风险指数** | 0-100% | 5% | 灰色操作(+10%)、高杠杆(+15%)、规避监管(+20%) | 合规审查(-5%)、风险对冲(-10%) | 市场波动(+2%/10%波动) |

### 2.2 数值交互规则
- **精力<20**：所有行动效果减半，失败概率+30%
- **声誉<30**：客户信任度下降，项目获取难度+50%
- **高层关系<40**：晋升审核通过率-50%
- **风险指数>80%**：每季度20%概率触发监管调查
- **专业能力每±10**：项目成功率±15%，交易收益±10%

## 三、职业发展体系

### 3.1 职级晋升路径
```
Analyst(初级分析师) → Associate(高级分析师) → VP(副总裁) → 
Director(董事) → MD(董事总经理) → Partner(合伙人)
```

### 3.2 晋升条件表
| 职级跨度 | 硬性条件 | 软性条件 |
|----------|----------|----------|
| **Analyst→Associate** | • 专业能力≥50<br>• 业绩表现≥120 | • 当年绩效≥A<br>• 高层关系≥40 |
| **Associate→VP** | • 专业能力≥70<br>• 业绩表现≥150<br>• 管理潜力≥30 | • 当年绩效≥A<br>• 历史至少1次S<br>• 高层关系≥60 |
| **VP→Director** | • 专业能力≥80<br>• 业绩表现≥180<br>• 团队规模≥5 | • 当年绩效≥S<br>• 历史至少1次S<br>• 主导项目≥2<br>• 团队士气≥70 |
| **Director→MD** | • 专业能力≥90<br>• 业绩表现≥200<br>• 团队规模≥10 | • 当年绩效≥S<br>• 历史至少2次S<br>• 战略影响力≥80<br>• 管理3个以上部门 |
| **MD→Partner** | • 专业能力≥95<br>• 个人AUM≥50亿 | • 创造公司20%以上利润<br>• 行业影响力分≥90<br>• 无重大合规问题 |

### 3.3 职级解锁功能
| 职级 | 解锁功能 | 管理范围 |
|------|----------|----------|
| **Analyst** | 基础交易、项目参与 | 个人贡献者 |
| **Associate** | 小型项目主管、初级客户管理 | 1-2人项目组 |
| **VP** | 部门管理、战略决策 | 3-5人团队，1000万资金权限 |
| **Director** | 跨部门协作、风险管理 | 6-10人团队，5000万资金权限 |
| **MD** | 业务线负责、资源分配 | 11-20人团队，2亿资金权限 |
| **Partner** | 公司战略、合伙人会议 | 全部门，无上限资金权限 |

## 四、核心玩法循环

### 4.1 季度行动系统
每个季度提供4个行动点，可分配于不同活动：

| 行动类型 | 消耗AP | 主要效果 | 次要效果 | 适用职级 |
|----------|--------|----------|----------|----------|
| **推项目** | 1 | 产出+50 专业能力+3 | 精力-10 风险+5% | All |
| **拉通资源** | 1 | 高层关系+10 人脉+5 | 金钱-5k 尊严-5 | VP+ |
| **摸鱼回血** | 1 | 精力+15 尊严+5 | 产出-20 专业能力-2 | All |
| **专业进修** | 1 | 专业能力+8 | 精力-5 金钱-10k | All |
| **行业社交** | 1 | 人脉+15 高层关系+5 | 金钱-15k 精力-5 | Associate+ |
| **风险交易** | 1 | 收益±20k 风险+15% | 专业能力±5 | VP+ |
| **团队建设** | 1 | 团队士气+10 | 金钱-20k 产出+10 | VP+ |
| **危机公关** | 1 | 风险-10% 声誉+5 | 精力-15 金钱-30k | Director+ |

### 4.2 季度特殊事件
| 季度 | 事件类型 | 描述 | 决策选项示例 |
|------|----------|------|--------------|
| **Q1** | 年度奖金评定 | 根据去年业绩表现分配奖金 | 1. 争议低奖金<br>2. 接受结果规划未来<br>3. 暗中联系猎头 |
| **Q2** | 市场波动 | 金融危机/牛市行情影响业务 | 1. 保守策略降低风险<br>2. 激进策略博取高收益<br>3. 转移客户注意力 |
| **Q3** | 晋升评估 | 年度职级晋升审核期 | 1. 自我推荐强调成绩<br>2. 推荐下属展示领导力<br>3. 战略性谦让等待更好机会 |
| **Q4** | 年终压力 | 年末业绩冲刺与总结 | 1. 加班加点完成目标<br>2. 合理调整预期<br>3. 转移责任给团队成员 |

### 4.3 金融事件库（部分）
1. **监管风暴**：证监会突然加强审查，你负责的产品面临合规风险
   - 选项A：立即整改，坦诚面对（声誉+10，风险-15%，产出-30）
   - 选项B：找关系疏通（高层关系-10，金钱-50k，风险-5%）
   - 选项C：掩盖问题（风险+30%，短期产出+20，长期声誉-25）

2. **客户危机**：重要客户在市场暴跌中损失惨重，威胁撤资并公开指责
   - 选项A：个人补偿部分损失（金钱-100k，声誉+15）
   - 选项B：推卸责任给市场（风险+10%，高层关系+5）
   - 选项C：提供免费咨询服务挽回（精力-20，人脉+10）

3. **内部竞争**：同级同事暗中挖走你的核心客户
   - 选项A：向上级举报（高层关系±10，人际关系-15）
   - 选项B：反向挖角他的客户（风险+15%，产出+20）
   - 选项C：合作共享客户资源（团队士气+10，产出+10）

## 五、胜利与失败条件

### 5.1 胜利条件
1. **职业巅峰**：晋升至合伙人(Partner)级别
2. **财富自由**：累计个人资产达到1亿元
3. **行业传奇**：同时拥有声誉≥90，专业能力≥90，业内影响力≥90

### 5.2 失败条件
1. **身心崩溃**：精力值归零（显示住院治疗结局）
2. **行业除名**：声誉归零（显示被行业列入黑名单结局）
3. **法律制裁**：风险指数满值且触发监管调查（显示入狱或巨额罚款结局）
4. **财务破产**：负债超过500万元且无翻身可能

### 5.3 结局文案示例
**财务自由结局**：
```
"你攒够了1亿元，决定提前退休！
在最后一场董事会后，你收拾好个人物品，在同事羡慕的目光中
走出这座曾经承载你无数日夜的大厦。
手机里收到无数祝贺信息，但你只回复了一条给最亲近的人：
'自由了。'

最终资产：¥108,726,315
从业年限：12年
最高职级：董事总经理(MD)"
```

## 六、系统架构设计

### 6.1 技术栈
- **前端**：React 18 + TypeScript + Tailwind CSS
- **状态管理**：Zustand
- **后端**：Node.js + Firebase (认证/数据库/存储)
- **AI服务**：GLM-4.7 API (事件生成/对话/平衡测试)
- **部署**：Vercel

### 6.2 核心模块
```
src/
├── core/               # 游戏核心逻辑
│   ├── GameState.ts    # 游戏状态管理
│   ├── Numerics.ts     # 数值计算引擎
│   ├── Progression.ts  # 晋升系统
│   └── Events.ts       # 事件系统
├── data/               # 游戏数据
│   ├── careers.ts      # 职业路径
│   ├── events.ts       # 事件库(100+)
│   ├── actions.ts      # 行动定义
│   └── outcomes.ts     # 结果映射
├── services/           # 服务层
│   ├── AIService.ts    # AI服务接口
│   ├── Firebase.ts     # 数据持久化
│   └── Analytics.ts    # 数据埋点
├── ui/                 # 界面组件
│   ├── Dashboard.tsx   # 主仪表盘
│   ├── ActionPanel.tsx # 行动面板
│   ├── EventModal.tsx  # 事件弹窗
│   └── CareerPath.tsx  # 职业路径可视化
└── utils/              # 工具函数
    ├── Formulas.ts     # 游戏公式
    └── Random.ts       # 随机数生成
```

### 6.3 核心游戏公式
```typescript
// 1. 业绩计算公式
const calculatePerformance = (baseOutput: number, ability: number, marketFactor: number) => {
  return baseOutput * (1 + ability/100) * marketFactor;
};

// 2. 晋升评估公式
const promotionScore = (currentLevel: string, state: GameState) => {
  const baseRequirements = getLevelRequirements(currentLevel);
  let score = 0;
  
  // 专业能力权重
  score += Math.min(100, state.professionalAbility / baseRequirements.ability) * 0.3;
  
  // 业绩表现权重
  score += Math.min(100, state.performance / baseRequirements.performance) * 0.3;
  
  // 高层关系权重
  score += Math.min(100, state.executiveRelations / baseRequirements.relations) * 0.2;
  
  // 团队管理权重(仅适用于VP以上)
  if (getLevelIndex(currentLevel) >= getLevelIndex('VP')) {
    score += Math.min(100, state.teamMorale / 70) * 0.2;
  }
  
  return score;
};

// 3. 风险指数增长公式
const calculateRiskGrowth = (riskIndex: number, greyActions: number, marketVolatility: number) => {
  const baseGrowth = greyActions * 5;
  const volatilityImpact = marketVolatility * 2;
  const compoundingEffect = riskIndex * 0.01; // 风险自增长
  
  return baseGrowth + volatilityImpact + compoundingEffect;
};
```

## 七、AI辅助开发计划

### 7.1 内容生成提示词库
**事件生成提示**：
```
作为资深金融从业者和游戏设计师，请生成5个投行职场典型困境事件。每个事件需包含：
1. 符合金融行业真实场景的背景描述
2. 3种不同选择，每种选择需明确标注对以下数值的影响：
   - 精力(-/+) 
   - 职业声誉(-/+)
   - 高层关系(-/+)
   - 业内人脉(-/+)
   - 专业能力(-/+)
   - 金钱变化
   - 风险指数变化(%)
3. 每个选择需有符合金融行业文化和潜规则的后果
4. 事件难度应随玩家职级提升而增加

请按JSON格式输出，键名为event_title, description, choices[]，每个choice包含text, effects{}, narrative
```

**数值平衡提示**：
```
你是一名资深游戏平衡师和前高盛MD。请为《金融精英模拟器》设计数值平衡方案：
1. 确保普通玩家平均通关时间在45-60分钟
2. 设计难度曲线：前3年(游戏时间)难度递增，3-5年难度峰值，5年后难度逐渐降低
3. 精力消耗应确保玩家每3-4个季度必须选择一次恢复行动
4. 风险指数需设计"复合增长"机制，初期增长慢，后期加速
5. 提供详细数值公式，包含所有乘数、权重和阈值
6. 给出至少3种平衡性测试案例，包括激进型、稳健型和平衡型玩家策略

输出格式：详细说明+公式+测试案例表格
```

### 7.2 QA测试代理配置
```json
{
  "testProfiles": [
    {
      "name": "激进交易员",
      "strategy": "高风险高回报",
      "actionPreferences": {
        "risk_trading": 0.7,
        "push_projects": 0.6,
        "networking": 0.3,
        "rest": 0.1
      },
      "expectedOutcome": "高概率失败，但成功时资产丰厚"
    },
    {
      "name": "稳健银行家",
      "strategy": "长期稳健发展",
      "actionPreferences": {
        "skill_training": 0.5,
        "relationship_building": 0.6,
        "rest": 0.4,
        "risk_trading": 0.1
      },
      "expectedOutcome": "中等通关率，稳定晋升"
    },
    {
      "name": "关系专家",
      "strategy": "人际网络优先",
      "actionPreferences": {
        "networking": 0.8,
        "executive_relations": 0.7,
        "push_projects": 0.4,
        "skill_training": 0.2
      },
      "expectedOutcome": "快速晋升，中等资产积累"
    }
  ],
  "successMetrics": {
    "casualPlayerWinRate": 0.12,  // 休闲玩家通关率
    "hardcorePlayerWinRate": 0.35, // 硬核玩家通关率 
    "averageGameDuration": 50,    // 平均游戏时长(分钟)
    "keyDecisionRetention": 0.65  // 关键决策点留存率
  }
}
```

## 八、迭代路线图

### 8.1 7天极速开发计划
| 天数 | 重点任务 | 交付物 | 成功指标 |
|------|----------|--------|----------|
| **Day 1** | 需求文档+核心数值框架 | 完整需求文档+数值公式 | 文档可直接输入AI生成代码 |
| **Day 2** | 核心游戏循环+状态管理 | 可运行基础框架 | 核心数值系统正常运作 |
| **Day 3** | 事件系统+对话内容 | 50+金融事件库 | 事件触发逻辑无错误 |
| **Day 4** | 职级系统+团队管理 | 完整晋升体系 | 各职级解锁功能正常 |
| **Day 5** | AI测试+数值平衡 | 平衡配置文件 | 通关率符合预期 |
| **Day 6** | UI/UX优化+数据埋点 | 专业视觉风格 | 用户测试满意度>80% |
| **Day 7** | 内部测试+部署上线 | 可公开访问版本 | 首日PV>5000 |

### 8.2 后续迭代计划
1. **第一周**：根据玩家行为数据调整数值平衡，修复关键bug
2. **第二周**：增加新事件库(20+)，优化移动端体验
3. **第三周**：添加成就系统，社交分享功能
4. **第四周**：发布"金融危机DLC"，新增1998亚洲金融风暴剧情线

## 九、金融专业性保障

### 9.1 行业顾问机制
- 邀请3位金融从业者(投行/资管/风投各1)参与内容审核
- 每个事件和机制需至少2位顾问认可其真实性
- 建立专业术语库，确保金融术语使用准确

### 9.2 合规边界设计
- 所有灰色操作必须有明确负面后果
- 避免教导具体违法操作方法
- 游戏结局强调合法合规长期价值

## 十、数据埋点设计

### 10.1 关键指标
- 玩家留存率(15/30/45分钟)
- 各行动类型选择频率
- 失败原因分布
- 通关路径分析
- 社交分享触发点

### 10.2 埋点代码示例
```typescript
// 行动选择埋点
const trackActionSelection = (actionType: string, quarter: number, careerLevel: string) => {
  analytics.logEvent('action_selected', {
    action_type: actionType,
    game_quarter: quarter,
    career_level: careerLevel,
    timestamp: new Date().toISOString()
  });
};

// 关键事件埋点
const trackCriticalEvent = (eventType: string, outcome: string, impactMetrics: Record<string, number>) => {
  analytics.logEvent('critical_event', {
    event_type: eventType,
    outcome: outcome,
    ...impactMetrics,
    session_id: getCurrentSessionId()
  });
};
```

---

**备注**：此需求文档设计为可直接输入AI编程助手(GLM-4.7)生成基础代码框架。所有数值、公式和规则已尽可能详细定义，确保AI生成代码的一致性和可维护性。下一步将使用GLM-4.7的Code Agent功能，将此文档转换为可运行的TypeScript代码基础框架。